<div class="container-fluid bg-home">
  <app-menu-admin></app-menu-admin>
  <div class="container">
    <h4 class="mb-3">Crear Tipo de ticket</h4>
    <div class="form-container"> 
      <form
        [formGroup]="ticketTypeForm"
        (ngSubmit)="grabar()"
        class="form-grid"
      >
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="form-field">
              <mat-form-field appearance="fill" class="w-100">
                <mat-label>Nombre</mat-label>
                <input matInput formControlName="name" />
                <mat-error
                  *ngIf="ticketTypeForm.get('name')?.hasError('required')"
                >
                  El nombre del tipo de ticket es obligatorio.
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-field">
              <mat-form-field appearance="fill" class="w-100">
                <mat-label>Precio</mat-label>
                <input matInput formControlName="price" />
                <mat-error
                  *ngIf="ticketTypeForm.get('price')?.hasError('required')"
                >
                  El precio es obligatorio.
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="form-field">
              <mat-form-field appearance="fill" class="w-100">
                <mat-label>Cantidad disponible</mat-label>
                <input matInput formControlName="availableQuantity" />
                <mat-error
                  *ngIf="
                    ticketTypeForm
                      .get('availableQuantity')
                      ?.hasError('required')
                  "
                >
                  La cantidad disponible es obligatorio.
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-md-8">
            <div class="form-field">
              <mat-form-field appearance="fill" class="w-100">
                <mat-label>Evento</mat-label>
                <mat-select formControlName="event_id">
                  <mat-option *ngFor="let event of events" [value]="event.id">
                    {{ event.nombre }}
                  </mat-option>
                </mat-select>
                <mat-error
                  *ngIf="ticketTypeForm.get('event_id')?.hasError('required')"
                >
                  Seleccione un evento.
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </div>

        <div class="d-flex mt-5 gap-3">
          <button
            mat-raised-button
            class="btn custom-dark-button"
            [disabled]="!ticketTypeForm.valid"
          >
            Grabar
          </button>
          <button
            mat-raised-button
            class="btn custom-dark-button"
            type="button"
            (click)="cancelar()"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
